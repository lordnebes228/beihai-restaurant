<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ë–ò–¢–í–ê –î–ê–ù–ù–´–•: GIGA EDITION</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Exo+2:wght@400;900&display=swap');

        :root {
            --neon-blue: #00f2ff;
            --neon-pink: #ff00ff;
            --neon-green: #00ff9d;
            --bg-dark: #020617;
        }

        body {
            background-color: var(--bg-dark);
            color: white;
            font-family: 'Exo 2', sans-serif;
            margin: 0; padding: 20px; overflow-x: hidden;
            background-image: radial-gradient(circle at center, #1e1b4b 0%, #020617 100%);
        }

        .main-ui { max-width: 1600px; margin: 0 auto; }

        header h1 {
            font-family: 'Orbitron', sans-serif; text-align: center;
            font-size: 5rem; margin: 20px 0;
            background: linear-gradient(to right, var(--neon-blue), var(--neon-pink));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        /* –û–±—É—á–∞—é—â–∏–µ –±–ª–æ–∫–∏ */
        .edu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        .edu-card {
            background: rgba(15, 23, 42, 0.8); border: 2px solid var(--neon-blue);
            padding: 25px; border-radius: 20px; font-size: 1.2rem;
        }
        .edu-card h3 { color: var(--neon-green); margin-top: 0; font-family: 'Orbitron'; }

        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .cockpit {
            background: rgba(15, 23, 42, 0.95); border: 4px solid var(--neon-blue);
            border-radius: 30px; padding: 40px; display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;
            margin-bottom: 40px;
        }

        .control-slot { display: flex; flex-direction: column; gap: 15px; }
        label { color: var(--neon-blue); font-size: 1.4rem; font-family: 'Orbitron'; font-weight: 900; }

        select {
            background: #000; color: #fff; border: 3px solid #334155;
            padding: 25px; border-radius: 20px; font-size: 1.8rem; font-weight: bold;
        }

        .btn-launch { 
            height: 100px; font-size: 2rem; background: var(--neon-blue); 
            color: #000; font-family: 'Orbitron'; font-weight: 900;
            border: none; border-radius: 20px; cursor: pointer; transition: 0.3s;
        }
        .btn-launch:hover { transform: scale(1.05); box-shadow: 0 0 40px var(--neon-blue); }

        /* –ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞ */
        .lane {
            background: rgba(0,0,0,0.8); height: 180px; border-radius: 30px;
            position: relative; border: 3px solid #1e293b; margin-bottom: 30px;
            display: flex; align-items: center; overflow: hidden;
        }

        @keyframes shake {
            0% { transform: translateY(0) scaleX(-1); }
            25% { transform: translateY(-8px) scaleX(-1); }
            75% { transform: translateY(8px) scaleX(-1); }
            100% { transform: translateY(0) scaleX(-1); }
        }
        .shaking { animation: shake 0.1s infinite; }

        .noise-blocks {
            position: absolute; width: 100%; height: 100%;
            background-image: repeating-linear-gradient(90deg, transparent, transparent 40px, rgba(255,0,0,0.2) 45px);
            display: none;
        }
        .unstable .noise-blocks { display: block; }

        .truck-unit { position: absolute; left: 0; font-size: 130px; z-index: 10; transform: scaleX(-1); }

        .road-marks {
            position: absolute; width: 100%; height: 100%;
            background-image: linear-gradient(90deg, rgba(255,255,255,0.05) 4px, transparent 4px);
            background-size: 80px 100%;
        }
        .moving .road-marks { animation: travel 0.2s linear infinite; }
        @keyframes travel { from { background-position: 0; } to { background-position: -80px; } }

        /* HUD */
        .hud-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .hud-box {
            background: #000; border: 3px solid #1e293b; padding: 30px;
            border-radius: 25px; text-align: center;
        }
        .hud-val { display: block; font-size: 4rem; font-family: 'Orbitron'; color: var(--neon-green); }
        .hud-desc { font-size: 1.2rem; color: #94a3b8; text-transform: uppercase; }

        /* –¢–∞–±–ª–∏—Ü–∞ –∞–Ω–∞–ª–∏–∑–∞ */
        #analysis-report {
            margin-top: 40px; background: rgba(0, 0, 0, 0.8);
            border: 4px solid var(--neon-pink); border-radius: 30px; padding: 40px;
            display: none; box-shadow: 0 0 50px rgba(255, 0, 255, 0.2);
        }
        #analysis-report h2 { font-family: 'Orbitron'; color: var(--neon-pink); font-size: 2.5rem; text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-top: 30px; font-size: 1.6rem; }
        th, td { border: 2px solid #334155; padding: 20px; text-align: center; }
        th { background: #1e293b; color: var(--neon-blue); }
        .fastest { color: var(--neon-green); font-weight: 900; }
    </style>
</head>
<body>

<div class="main-ui">
    <header><h1>–ë–ò–¢–í–ê –î–ê–ù–ù–´–•</h1></header>

    <div class="edu-grid">
        <div class="edu-card">
            <h3>üìà –¢–∏–ø—ã –°–µ—Ç–µ–π</h3>
            <p>–ß–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–µ–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è (4G ‚Üí 5G ‚Üí –û–ø—Ç–∏–∫–∞), —Ç–µ–º –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –æ–Ω–∞ –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤ —Å–µ–∫—É–Ω–¥—É. –≠—Ç–æ –∫–∞–∫ —à–∏—Ä–∏–Ω–∞ —Ç—Ä—É–±—ã –¥–ª—è –≤–æ–¥—ã.</p>
        </div>
        <div class="edu-card">
            <h3>üõ†Ô∏è –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</h3>
            <p><b>–ò–¥–µ–∞–ª—å–Ω–∞—è:</b> —Å–∏–≥–Ω–∞–ª —á–∏—Å—Ç—ã–π. <b>–ö—Ä–∏—Ç–∏—á–Ω–∞—è:</b> –∏–∑-–∑–∞ –ø–æ–º–µ—Ö –¥–∞–Ω–Ω—ã–µ "–ª–æ–º–∞—é—Ç—Å—è" –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ç—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è –Ω–∞ –∏—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å.</p>
        </div>
    </div>

    <div class="cockpit">
        <div class="control-slot">
            <label>–û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö</label>
            <select id="cargo">
                <option value="50">üñºÔ∏è –§–û–¢–û (50 –ú–ë)</option>
                <option value="500">üé¨ –§–ò–õ–¨–ú (500 –ú–ë)</option>
                <option value="2000">üéÆ –ò–ì–†–ê (2 –ì–ë)</option>
                <option value="10000">üåç –í–ò–ö–ò–ü–ï–î–ò–Ø (10 –ì–ë)</option>
            </select>
        </div>
        <div class="control-slot">
            <label>–¢–∏–ø —Å–µ—Ç–∏</label>
            <select id="speed">
                <option value="10">üöú –°—Ç–∞—Ä—ã–π 3G (10 –ú–ë/—Å)</option>
                <option value="100" selected>üöö –û–±—ã—á–Ω—ã–π 4G (100 –ú–ë/—Å)</option>
                <option value="600">üèéÔ∏è –°–∫–æ—Ä–æ—Å—Ç–Ω–æ–π 5G (600 –ú–ë/—Å)</option>
                <option value="2500">üöÄ –û–ø—Ç–æ–≤–æ–ª–æ–∫–Ω–æ (2.5 –ì–ë/—Å)</option>
            </select>
        </div>
        <div class="control-slot">
            <label>–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</label>
            <select id="quality">
                <option value="1">–ò–¥–µ–∞–ª—å–Ω–∞—è (100%)</option>
                <option value="0.5">–°—Ä–µ–¥–Ω–∏–µ –ø–æ–º–µ—Ö–∏ (50%)</option>
                <option value="0.1">–ö—Ä–∏—Ç–∏—á–Ω–∞—è (10%)</option>
            </select>
        </div>
        <div class="control-slot"><button class="btn-launch" onclick="startTest(false)">–¢–ï–°–¢</button></div>
        <div class="control-slot"><button class="btn-launch" style="background: var(--neon-pink); color: white;" onclick="startTest(true)">–ì–û–ù–ö–ê</button></div>
    </div>

    <div id="track-zone"></div>

    <div class="hud-grid">
        <div class="hud-box"><span class="hud-val" id="hud-v">0</span><span class="hud-desc">–ú–ë / –°–ï–ö–£–ù–î–£</span></div>
        <div class="hud-box" style="border-color: var(--neon-blue);"><span class="hud-val" id="hud-t">0.0</span><span class="hud-desc">–í–†–ï–ú–Ø (–°–ï–ö)</span></div>
        <div class="hud-box" style="border-color: var(--neon-pink);"><span class="hud-val" id="hud-p">0%</span><span class="hud-desc">–ü–†–û–ì–†–ï–°–°</span></div>
    </div>

    <div id="analysis-report">
        <h2>üìä –°–†–ê–í–ù–ò–¢–ï–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó</h2>
        <table id="report-table">
            <thead><tr><th>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è</th><th>–í—Ä–µ–º—è</th><th>–†–µ–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å</th><th>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</th></tr></thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<script>
    const zone = document.getElementById('track-zone');
    const report = document.getElementById('analysis-report');
    const icons = { '10': 'üöú', '100': 'üöö', '600': 'üèéÔ∏è', '2500': 'üöÄ' };
    let timers = [];
    let raceResults = [];

    function startTest(isRace) {
        timers.forEach(clearInterval);
        zone.innerHTML = '';
        report.style.display = 'none';
        raceResults = [];
        
        const cargo = parseFloat(document.getElementById('cargo').value);
        const quality = parseFloat(document.getElementById('quality').value);

        if (isRace) {
            const opts = document.getElementById('speed').options;
            for(let i=0; i<opts.length; i++) {
                createTrack(i, opts[i].text, parseFloat(opts[i].value), cargo, quality, false, opts.length);
            }
        } else {
            const s = document.getElementById('speed');
            createTrack(0, s.options[s.selectedIndex].text, parseFloat(s.value), cargo, quality, true, 1);
        }
    }

    function createTrack(id, name, speed, cargo, quality, updateHud, totalTracks) {
        const lane = document.createElement('div');
        lane.className = 'lane';
        if (quality <= 0.1) lane.classList.add('unstable');
        
        lane.innerHTML = `
            <div style="position:absolute; top:10px; left:25px; font-size:1.8rem; color:var(--neon-blue); z-index:5; font-weight:bold; font-family:'Orbitron'">${name}</div>
            <div class="road-marks"></div>
            <div class="noise-blocks"></div>
            <div class="truck-unit" id="truck-${id}">${icons[speed] || 'üöö'}</div>
        `;
        zone.appendChild(lane);
        
        const truck = document.getElementById(`truck-${id}`);
        if (quality <= 0.1) truck.classList.add('shaking');
        lane.classList.add('moving');
        
        let delivered = 0;
        const start = Date.now();
        const vReal = speed * quality;

        const t = setInterval(() => {
            delivered += vReal / 10;
            let p = Math.min((delivered / cargo) * 100, 100);
            truck.style.left = `calc(${p}% - 140px)`;

            if (updateHud) {
                document.getElementById('hud-v').innerText = Math.round(vReal * (0.9 + Math.random()*0.2));
                document.getElementById('hud-t').innerText = ((Date.now()-start)/1000).toFixed(1);
                document.getElementById('hud-p').innerText = Math.round(p) + '%';
            }

            if (p >= 100) {
                clearInterval(t);
                const timeTaken = ((Date.now()-start)/1000).toFixed(2);
                lane.classList.remove('moving');
                lane.style.borderColor = 'var(--neon-green)';
                
                raceResults.push({ name, time: parseFloat(timeTaken), speed: vReal });
                if (raceResults.length === totalTracks && totalTracks > 1) showReport();
            }
        }, 100);
        timers.push(t);
    }

    function showReport() {
        report.style.display = 'block';
        const tbody = document.querySelector('#report-table tbody');
        tbody.innerHTML = '';
        
        raceResults.sort((a,b) => a.time - b.time);
        const fastest = raceResults[0];

        raceResults.forEach(res => {
            const ratio = (res.time / fastest.time).toFixed(1);
            let efficiencyText = res.time === fastest.time ? 
                "<span class='fastest'>üèÜ –≠–¢–ê–õ–û–ù</span>" : 
                `–ú–µ–¥–ª–µ–Ω–Ω–µ–µ –≤ ${ratio} —Ä–∞–∑`;
            
            tbody.innerHTML += `
                <tr>
                    <td>${res.name}</td>
                    <td>${res.time} —Å–µ–∫</td>
                    <td>${Math.round(res.speed)} –ú–ë/—Å</td>
                    <td>${efficiencyText}</td>
                </tr>`;
        });
    }
</script>

</body>
</html>
